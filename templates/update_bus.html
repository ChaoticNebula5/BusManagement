{% extends "layout.html" %}

{% block title %}
Update Bus
{% endblock %}

{% block content %}
<div class="container">
    <h2 class="text-center my-4">Update Bus</h2>
    <form action="/update_bus" method="POST">
        <div class="form-group">
            <label for="identifier">Choose method:</label>
            <select class="form-control" id="identifier" name="identifier" onchange="updateLabel(this.value)">
                <option value="">Choose method</option>
                <option value="route_no">Route Number</option>
                <option value="registration_no">Registration Number</option>
            </select>
        </div>
        <div class="form-group mt-3">
            <label id="value-label" for="value">Value:</label>
            <input type="text" class="form-control" id="value" name="value">
        </div>
        <div class="form-group mt-3" id="update-fields" style="display:none;">
            <label for="NameOfDriver">New Driver Name:</label>
            <input type="text" class="form-control" id="NameOfDriver" name="NameOfDriver">
            <label for="NameOfConductor" class="mt-3">New Conductor Name:</label>
            <input type="text" class="form-control" id="NameOfConductor" name="NameOfConductor">
            <label for="NumberOfStudents" class="mt-3">New Number of Students:</label>
            <input type="number" class="form-control" id="NumberOfStudents" name="NumberOfStudents">
            <label for="new_registration_no">New Registration No:</label>
            <input type="text" class="form-control" id="new_registration_no" name="new_registration_no">
            <label for="new_route_no">New Route No:</label>
            <input type="number" class="form-control" id="new_route_no" name="new_route_no">
        </div>
        <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary">Update Bus</button>
        </div>
    </form>
</div>

<script>
    function updateLabel(value) {
        const valueLabel = document.getElementById("value-label");
        document.getElementById("update-fields").style.display = value ? "block" : "none";
        if (value === "route_no") {
            valueLabel.textContent = "Route Number:";
        } else if (value === "registration_no") {
            valueLabel.textContent = "Registration Number:";
        } else {
            valueLabel.textContent = "Value:";
        }
    }
</script>
{% endblock %}
